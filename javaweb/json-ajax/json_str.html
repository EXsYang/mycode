<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JSON对象和字符串对象转换</title>
</head>
<body>
<h1>JSON对象和字符串对象转换</h1>
<script type="text/javascript">
    window.onload = function () {
        //解读JSON
        //1.JSON 是一个js的内置对象(build-in)，可以直接使用
        //  console.log("JSON=", JSON);

        //演示如何将以json对象->string
        var jsonPerson = {
            "name": "jack",
            "age": 20
        }

        console.log(JSON.stringify(jsonPerson));
        var strPerson = JSON.stringify(jsonPerson);
        console.log("strPerson= " ,strPerson," strPerson类型= " + typeof strPerson);//string


        //string->json
        //注意要转成json对象的string 格式必须满足json格式
        var strDog = "{\"name\":\"小黄狗\"  \"age\":2}"; // 这里少一个逗号，必须按照JSON对象的格式写，
        // 就像parseInteger() 需要传一个满足整数格式的str"123" ,不能给一个不能转的字符串 "afav"
        var jsonDog = JSON.parse(strDog);
        console.log("jsonDog= ", jsonDog);

        var parseJsonPerson = JSON.parse(strPerson);
        console.log("parseJsonPerson typeof= " + typeof parseJsonPerson);// object
        console.log("parseJsonPerson= ", parseJsonPerson);// JSON对象： Object { name: "jack", age: 20 }
        // var parseJsonPersonByStr = JSON.parse("{ name: \"jack\", age: 20 }"); //格式不对会报语法错误  Uncaught SyntaxError
        // var parseJsonPersonByStr = JSON.parse("{ 'name': \"jack\", 'age': 20 }"); //格式不对会报语法错误 单引号也不行格式不对
        var parseJsonPersonByStr = JSON.parse("{ \"name\": \"jack\", \"age\": 20 }"); //  key和字符串类型必须使用双引号！！
        console.log("parseJsonPersonByStr= ", parseJsonPersonByStr);//  JSON对象： Object { name: "jack", age: 20 }


    }
</script>

</body>
</html>